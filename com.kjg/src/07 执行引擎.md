# 执行引擎的作用

JVM的主要任务是将类的字节码加载到内存中，操作系统本身不认识字节码，因此需要执行殷勤解释字节码到对应平台（Windows、Linux、MacOS）的机器码，然后执行。相当于**充当了高级语言转换为机器语言的翻译者**。

执行引擎需要执行什么指令，这个依赖于PC寄存器（JVM层面的PC），在方法的执行过程中，执行引擎可能会通过局部变量表中的指针快速定位到堆中的对象实例，并且通过对象实例的对象头中的元数据指针快速定位到这个对象的class对象。

![image](https://user-images.githubusercontent.com/48977889/157137337-21628ec2-41ee-4a06-bef6-192f098ac2d7.png)

Java早期是一门解释型语言，后期本质是一门半解释、半编译型语言，JVM执行引擎包含**解释执行**与**编译执行**两种模式。解释执行指的是执行引擎**一行一行地**把字节码翻译成机器码执行的过程，类似于

```
forEach(x -> {	complie(x);	execute(x);	});
```

编译执行指的是执行引擎直接将**源代码**编译成机器码，然后将这段机器码缓存到元空间，最后拿来直接执行的过程，类似于 

```
var jitResult = complie(y);
jitResult.forEach(x -> {	execute(x);	});
```

编译执行依赖于JIT（Just In Time）编译器。